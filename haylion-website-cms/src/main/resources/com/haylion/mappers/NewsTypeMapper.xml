<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.haylion.dao.NewsTypeDao">
  <resultMap id="BaseResultMap" type="com.haylion.entity.NewsType">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jan 25 14:51:33 CST 2018.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="typeName" jdbcType="VARCHAR" property="typename" />
    <result column="newscount" jdbcType="VARCHAR" property="newscount" />
    <result column="moduleId" property="moduleId" jdbcType="INTEGER"/>
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jan 25 14:51:33 CST 2018.
    -->
    id, typeName,moduleId
  </sql>

	<select id="getList"  resultMap="BaseResultMap">
		select 
		<include refid="Base_Column_List"/> 
		 from t_newsType where 1=1
			<if test="batteryid!=null and batteryid!='' ">
				and BatteryID = #{batteryid}
			</if>
			<if test="batterysize!=null and batterysize!='' ">
				and BatterySize = #{batterysize}
			</if>
			<if test="batterytype!=null and batterytype!='' ">
				and BatteryType = #{batterytype}
			</if>
	</select>
	<select id="findById" parameterType="Integer" resultMap="BaseResultMap">
		select 
		<include refid="Base_Column_List"/> 
		 from t_newsType where id=#{id}
	</select>
	
	<select id="list" parameterType="Map" resultMap="BaseResultMap">
		select 
		<include refid="Base_Column_List"/> 
		 from t_newsType
		<if test="start!=null and size!=null">
			limit #{start},#{size}
		</if>
	</select>
	
	<select id="getNameById" parameterType="com.haylion.entity.NewsType" resultType="String">
		select typeName from t_newsType where 1=1
		<if test="id!=null and id!=''">
			and id=#{id}
		</if>
	</select>
	
	<select id="getTotal" parameterType="Map" resultType="Long">
		select count(*) from t_newsType
	</select>
	
	<insert id="add" parameterType="NewsType">
		insert into t_newsType values(null,#{typename},#{moduleId});
	</insert>
	
	<update id="update" parameterType="NewsType">
		update t_newsType
		<set>
			<if test="typename!=null and typename!='' ">
				typeName=#{typename},
			</if>
			<if test="moduleId!=null and moduleId!='' ">
				moduleId=#{moduleId},
			</if>
		</set>
		where id=#{id}
	</update>
	
	<delete id="delete" parameterType="Integer">
		delete from t_newsType where id=#{id}
	</delete>
</mapper>